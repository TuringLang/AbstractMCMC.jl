<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · AbstractMCMC</title><meta name="title" content="API · AbstractMCMC"/><meta property="og:title" content="API · AbstractMCMC"/><meta property="twitter:title" content="API · AbstractMCMC"/><meta name="description" content="Documentation for AbstractMCMC."/><meta property="og:description" content="Documentation for AbstractMCMC."/><meta property="twitter:description" content="Documentation for AbstractMCMC."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body>
<!-- NAVBAR START -->
<style>
    @import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap');

    /* Documenter.jl CSS Overrides */
    html {
        scroll-padding-top: calc(var(--navbar-height) + 1rem);
    }
    .docs-sidebar, #documenter {
        margin-top: var(--navbar-height);
    }
    .docs-version-selector {
        margin-bottom: 60px !important;
    }
    @media screen and (max-width: 1056px) {
        .docs-version-selector {
            margin-bottom: 60px !important;
        }
        .docs-sidebar {
            margin-top: 0 !important;
        }
    }
    /* End of Documenter.jl Tweaks */

    /* Color and Font Variables */
    :root {
        --heading-color: #6c757d;
        --item-color: rgb(165, 165, 165);
        --primary-bg: white;
        --hover-color: #8faad2;
        --deprecated-bg: #ff4d4d;
        --deprecated-text: white;
        --icon-color: #6c757d;
        --shadow-color: rgba(0, 0, 0, 0.1);
        --dropdown-hover-bg: #e9ecef;
        
        /* Typography */
        --font-family: "Source Sans Pro", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        --nav-link-font-size: 1.0625rem;
        --turing-title-font-size: 21.25px;
        --icon-font-size: 1.25rem;
        --dropdown-arrow-font-size: 0.6875rem;
        --badge-font-size: 0.75rem;

        /* Sizing and Spacing */
        --navbar-height: 3.75rem;
        --logo-height: 31.18px;
        --logo-width: 52.47px;
        --logo-padding-top: 7px;
        --logo-margin-left: 0.3rem;
        --title-margin-left: 0.4px;
        --title-nav-spacing: 1.7rem;
        --nav-item-margin-left: 1.3rem;
        --icon-margin-left: 1rem;
        --dropdown-padding: 1.875rem;
        --dropdown-item-width: 12.5rem;
        --dropdown-subitem-width: 15.625rem;
        --dropdown-subitem-padding: 0.125rem 0.625rem;
    }

    /* Dark Theme Variable Overrides */
    html.theme--documenter-dark {
        --heading-color: #e0e0e0;
        --item-color: #bdbdbd;
        --primary-bg: #1f2424;
        --hover-color: #ffffff;
        --icon-color: #e0e0e0;
        --shadow-color: rgba(255, 255, 255, 0.1);
        --dropdown-hover-bg: #424242;
    }

    /* Catppuccin Theme Overrides */
    html.theme--catppuccin-latte {
        --heading-color: #4c4f69;
        --primary-bg: #eff1f5;
        --icon-color: #4c4f69;
        --shadow-color: rgba(0, 0, 0, 0.1);
        --dropdown-hover-bg: #e6e9ef;
    }
    html.theme--catppuccin-frappe {
        --heading-color: #c6d0f5;
        --primary-bg: #303446;
        --icon-color: #c6d0f5;
        --shadow-color: rgba(255, 255, 255, 0.1);
        --dropdown-hover-bg: #51576d;
    }
    html.theme--catppuccin-macchiato {
        --heading-color: #cad3f5;
        --primary-bg: #24273a;
        --icon-color: #cad3f5;
        --shadow-color: rgba(255, 255, 255, 0.1);
        --dropdown-hover-bg: #494d64;
    }
    html.theme--catppuccin-mocha {
        --heading-color: #cad3f5;
        --primary-bg: #1e1e2e;
        --icon-color: #cad3f5;
        --shadow-color: rgba(255, 255, 255, 0.1);
        --dropdown-hover-bg: #45475a;
    }


    /* Main Navigation Bar */
    .ext-navigation {
        font-family: var(--font-family);
        position: fixed;
        height: var(--navbar-height);
        top: 0;
        width: 100%;
        background-color: var(--primary-bg);
        z-index: 1000;
        box-shadow: 0 2px 4px var(--shadow-color);
        display: flex;
        align-items: center;
        padding: 0 1.0625rem;
        transition: transform 0.3s, background-color 0.3s;
    }

    nav.ext-navigation .ext-navbar-logo {
        margin-left: var(--logo-margin-left);
        height: var(--logo-height);
        width: var(--logo-width);
        padding-top: var(--logo-padding-top);
    }
    
    .ext-navbar-title {
        color: var(--heading-color) !important;
        font-size: var(--turing-title-font-size) !important;
        margin-left: var(--title-margin-left);
        text-decoration: none;
        transition: color 0.2s ease;
    }
    
    .ext-navbar-title:hover {
        color: var(--hover-color) !important;
    }

    .ext-nav-links {
        display: flex;
        align-items: center;
        list-style-type: none;
        margin: 0;
        padding: 0;
        flex-grow: 1;
        margin-left: var(--title-nav-spacing);
    }

    .ext-nav-links li:first-child {
        margin-left: 0 !important;
    }

    .ext-nav-links li {
        margin-left: var(--nav-item-margin-left) !important;
    }

    .ext-nav-link {
        color: var(--heading-color) !important;
        text-decoration: none;
        font-size: var(--nav-link-font-size) !important;
        transition: color 0.2s ease;
        cursor: pointer;
    }

    .ext-nav-link:hover,
    .ext-navbar-item-single a:hover,
    .ext-navbar-icons a:hover {
        color: var(--hover-color) !important;
    }

    .ext-navbar-item-single a {
        color: var(--heading-color) !important;
    }
    
    .ext-navbar-icons {
        display: flex;
        align-items: center;
    }

    .ext-navbar-icons a {
        color: var(--icon-color) !important;
        font-size: var(--icon-font-size) !important;
        transition: color 0.2s ease;
        margin-left: var(--icon-margin-left);
    }

    .ext-menu-toggle {
        display: none;
        font-size: 1.5rem;
        color: var(--heading-color);
        cursor: pointer;
    }

    .ext-dropdown {
        display: none;
        grid-template-columns: 1fr 1fr 1fr 1fr;
        padding: var(--dropdown-padding);
        position: absolute;
        top: var(--navbar-height);
        width: 100%;
        left: 0;
        background-color: var(--primary-bg);
        line-height: 1.875rem;
        opacity: 0;
        transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out, background-color 0.3s;
        transform: translateY(-0.625rem);
        box-shadow: 0 4px 6px var(--shadow-color);
    }

    #library-handler::after {
        content: "▼";
        font-size: var(--dropdown-arrow-font-size);
        margin-left: 0.3125rem;
        transition: transform 0.3s ease-in-out;
    }

    #library-handler.open::after {
        content: "▲";
    }

    .ext-dropdown.show {
        display: grid;
        opacity: 1;
        transform: translateY(0);
    }

    .ext-dropdown ul {
        width: var(--dropdown-item-width);
        margin-bottom: 1.25rem;
    }

    .ext-dropdown ul li {
        text-align: left;
        display: flex;
        align-items: center;
    }

    .ext-dropdown ul a li {
        color: var(--item-color);
        width: var(--dropdown-subitem-width);
        border-radius: 3px;
        padding: var(--dropdown-subitem-padding);
        transition: background-color 0.2s ease;
    }

    .ext-dropdown ul a li:hover {
        background-color: var(--dropdown-hover-bg);
    }

    .ext-dropdown-item-heading {
        color: var(--heading-color);
        text-align: center;
    }

    .deprecated-badge {
        background-color: var(--deprecated-bg);
        color: var(--deprecated-text);
        font-size: var(--badge-font-size);
        padding: .1rem;
        border-radius: 3px;
        margin-left: 0.5rem;
        line-height: 1;
    }

    @media (max-width: 966px) {
        .ext-dropdown {
            grid-template-columns: 1fr 1fr 1fr;
        }
    }

    @media (max-width: 768px) {
        .ext-nav-links {
            display: none;
            flex-direction: column;
            align-items: center;
            width: 100%;
            background-color: var(--primary-bg);
            position: absolute;
            top: var(--navbar-height);
            left: 0;
            padding: 0.625rem 0;
            height: auto;
            overflow-y: auto;
            box-shadow: 0 4px 6px var(--shadow-color);
            margin-left: 0;
        }

        .ext-nav-links.show {
            display: flex;
        }

        .ext-nav-links li {
            margin: 0.625rem 0 !important;
            text-align: center;
        }
        
        .ext-menu-toggle {
            display: block;
            margin-left: auto;
        }

        .ext-navigation.hide {
            transform: translateY(calc(-1 * var(--navbar-height)));
        }

        .ext-dropdown {
            position: static;
            display: block;
            opacity: 1;
            transform: none;
            box-shadow: none;
            grid-template-columns: 1fr;
            padding: 0.625rem;
            text-align: center;
        }

        .ext-dropdown ul {
            width: auto;
            display: inline-block;
            margin: 0 auto 0.3125rem;
            text-align: left;
        }
    }
</style>
<nav class="ext-navigation">
    <a href="https://turinglang.org/">
        <img src="https://turinglang.org/assets/images/turing-logo.svg" alt="Turing Logo" class="ext-navbar-logo">
    </a>
    <a class="ext-navbar-title" href="https://turinglang.org/">Turing.jl</a>
    
    <ul class="ext-nav-links">
        <li><a class="ext-nav-link" href="https://turinglang.org/docs/getting-started/">Get Started</a></li>
        <li><a class="ext-nav-link" href="https://turinglang.org/docs/tutorials/">Tutorials</a></li>
        <li><a class="ext-nav-link" href="https://turinglang.org/docs/faq/">FAQ</a></li>
        <li>
            <p class="ext-nav-link" id="library-handler">Libraries</p>
            <div class="ext-dropdown" id="ext-dropdown-items">
                <ul>
                    <li class="ext-dropdown-item-heading">Modelling Languages</li>
                    <a href="https://turinglang.org/DynamicPPL.jl/"><li>DynamicPPL</li></a>
                    <a href="https://turinglang.org/JuliaBUGS.jl/"><li>JuliaBUGS</li></a>
                    <a href="https://turinglang.org/TuringGLM.jl/"><li>TuringGLM</li></a>
                </ul>
                <ul>
                    <li class="ext-dropdown-item-heading">MCMC</li>
                    <a href="https://turinglang.org/AdvancedHMC.jl/"><li>AdvancedHMC</li></a>
                    <a href="https://turinglang.org/AbstractMCMC.jl/"><li>AbstractMCMC</li></a>
                    <a href="https://github.com/theogf/ThermodynamicIntegration.jl"><li>ThermodynamicIntegration</li></a>
                    <a href="https://turinglang.org/AdvancedPS.jl/"><li>AdvancedPS</li></a>
                    <a href="https://turinglang.org/SliceSampling.jl/"><li>SliceSampling</li></a>
                    <a href="https://turinglang.org/EllipticalSliceSampling.jl/"><li>EllipticalSliceSampling</li></a>
                    <a href="https://turinglang.org/NestedSamplers.jl/"><li>NestedSamplers</li></a>
                </ul>
                <ul>
                    <li class="ext-dropdown-item-heading">Diagnostics</li>
                    <a href="https://turinglang.org/MCMCChains.jl/"><li>MCMCChains</li></a>
                    <a href="https://turinglang.org/MCMCDiagnosticTools.jl/"><li>MCMCDiagnosticTools</li></a>
                    <a href="https://turinglang.org/ParetoSmooth.jl/"><li>ParetoSmooth</li></a>
                </ul>
                <ul>
                    <li class="ext-dropdown-item-heading">Gaussian Processes</li>
                    <a href="https://juliagaussianprocesses.github.io/AbstractGPs.jl/"><li>AbstractGPs</li></a>
                    <a href="https://juliagaussianprocesses.github.io/KernelFunctions.jl/"><li>KernelFunctions</li></a>
                    <a href="https://juliagaussianprocesses.github.io/ApproximateGPs.jl/"><li>ApproximateGPs</li></a>
                </ul>
                <ul><li class="ext-dropdown-item-heading ext-navbar-item-single"><a href="https://turinglang.org/Bijectors.jl/">Bijectors</a></li></ul>
                <ul><li class="ext-dropdown-item-heading ext-navbar-item-single"><a href="https://turinglang.org/TuringCallbacks.jl/">TuringCallbacks</a></li></ul>
                <ul><li class="ext-dropdown-item-heading ext-navbar-item-single"><a href="https://turinglang.org/Deprecated/TuringBenchmarking/">TuringBenchmarking</a><span class="deprecated-badge">Deprecated</span></li></ul>
            </div>
        </li>
        <li><a class="ext-nav-link" href="https://turinglang.org/news/">News</a></li>
        <li><a class="ext-nav-link" href="https://turinglang.org/team/">Team</a></li>
    </ul>

    <div class="ext-navbar-icons">
        <a href="https://x.com/TuringLang" aria-label="Turing on X"><i class="fa-brands fa-x-twitter"></i></a>
        <a href="https://discourse.julialang.org/c/domain/probprog/48" aria-label="Turing on Discourse"><i class="fa-brands fa-discourse"></i></a>
        <a href="https://julialang.slack.com/archives/CCYDC34A0" aria-label="Turing on Slack"><i class="fa-brands fa-slack"></i></a>
        <a href="https://github.com/TuringLang/" aria-label="Turing.jl on GitHub"><i class="fa-brands fa-github"></i></a>
    </div>

    <span class="ext-menu-toggle"><i class="fa-solid fa-bars"></i></span>
</nav>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const menuToggle = document.querySelector(".ext-menu-toggle");
        const navLinks = document.querySelector(".ext-nav-links");
        const nav = document.querySelector(".ext-navigation");
        const libraryHandler = document.getElementById("library-handler");
        const dropdownContainer = document.getElementById("ext-dropdown-items");
        let lastScrollY = window.scrollY;

        function closeDropdown() {
            if (dropdownContainer.classList.contains("show")) {
                libraryHandler.classList.remove("open");
                dropdownContainer.classList.remove("show");
                setTimeout(() => {
                    if (!dropdownContainer.classList.contains("show")) {
                        dropdownContainer.style.display = "none";
                    }
                }, 300);
            }
        }

        function openDropdown() {
            dropdownContainer.style.display = "grid";
            libraryHandler.classList.add("open");
            setTimeout(() => {
                dropdownContainer.classList.add("show");
            }, 10);
        }

        function setAppropriateHeight() {
            if (window.innerWidth <= 768) {
                const viewportHeight = window.innerHeight;
                const navHeight = nav.offsetHeight;
                navLinks.style.maxHeight = `${viewportHeight - navHeight}px`;
                navLinks.style.overflowY = "auto";
            } else {
                navLinks.style.maxHeight = "";
                navLinks.style.overflowY = "";
            }
        }

        menuToggle.addEventListener("click", (event) => {
            event.stopPropagation();
            navLinks.classList.toggle("show");
            if (navLinks.classList.contains("show")) {
                setAppropriateHeight();
                closeDropdown();
                dropdownContainer.style.display = "none";
            }
        });

        libraryHandler.addEventListener("click", (event) => {
            event.stopPropagation();
            event.preventDefault();
            if (dropdownContainer.classList.contains("show")) {
                closeDropdown();
            } else {
                openDropdown();
            }
            setAppropriateHeight();
        });

        // Close all menus if a click is registered outside the navigation bar.
        document.addEventListener("click", (event) => {
            if (!nav.contains(event.target)) {
                navLinks.classList.remove("show");
                closeDropdown();
            }
        });

        // Hide navigation bar on scroll down in mobile view.
        window.addEventListener("scroll", () => {
            if (window.innerWidth <= 768) {
                if (window.scrollY > lastScrollY && window.scrollY > nav.offsetHeight){
                    nav.classList.add("hide");
                } else {
                    nav.classList.remove("hide");
                }
                lastScrollY = window.scrollY;
            }
        });

        window.addEventListener("resize", setAppropriateHeight);
    });
</script>
<!-- NAVBAR END -->

<div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">AbstractMCMC</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Model"><span>Model</span></a></li><li><a class="tocitem" href="#Sampler"><span>Sampler</span></a></li><li><a class="tocitem" href="#Sampling-a-single-chain"><span>Sampling a single chain</span></a></li><li><a class="tocitem" href="#Sampling-multiple-chains-in-parallel"><span>Sampling multiple chains in parallel</span></a></li><li><a class="tocitem" href="#Common-keyword-arguments"><span>Common keyword arguments</span></a></li><li><a class="tocitem" href="#Progress-logging"><span>Progress logging</span></a></li><li><a class="tocitem" href="#Chains"><span>Chains</span></a></li><li><a class="tocitem" href="#Interacting-with-states-of-samplers"><span>Interacting with states of samplers</span></a></li></ul></li><li><a class="tocitem" href="../design/">Design</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/TuringLang/AbstractMCMC.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><p>AbstractMCMC defines an interface for sampling Markov chains.</p><h2 id="Model"><a class="docs-heading-anchor" href="#Model">Model</a><a id="Model-1"></a><a class="docs-heading-anchor-permalink" href="#Model" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.AbstractModel" href="#AbstractMCMC.AbstractModel"><code>AbstractMCMC.AbstractModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractModel</code></pre><p>An <code>AbstractModel</code> represents a generic model type that can be used to perform inference.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/AbstractMCMC.jl#L46-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.LogDensityModel" href="#AbstractMCMC.LogDensityModel"><code>AbstractMCMC.LogDensityModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LogDensityModel &lt;: AbstractMCMC.AbstractModel</code></pre><p>Wrapper around something that implements the LogDensityProblem.jl interface.</p><p>Note that this does <em>not</em> implement the LogDensityProblems.jl interface itself, but it simply useful for indicating to the <code>sample</code> and other <code>AbstractMCMC</code> methods that the wrapped object implements the LogDensityProblems.jl interface.</p><p><strong>Fields</strong></p><ul><li><code>logdensity</code>: The object that implements the LogDensityProblems.jl interface.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/logdensityproblems.jl#L1-L12">source</a></section></article><h2 id="Sampler"><a class="docs-heading-anchor" href="#Sampler">Sampler</a><a id="Sampler-1"></a><a class="docs-heading-anchor-permalink" href="#Sampler" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.AbstractSampler" href="#AbstractMCMC.AbstractSampler"><code>AbstractMCMC.AbstractSampler</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractSampler</code></pre><p>The <code>AbstractSampler</code> type is intended to be inherited from when implementing a custom sampler. Any persistent state information should be saved in a subtype of <code>AbstractSampler</code>.</p><p>When defining a new sampler, you should also overload the function <code>transition_type</code>, which tells the <code>sample</code> function what type of parameter it should expect to receive.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/AbstractMCMC.jl#L33-L43">source</a></section></article><h2 id="Sampling-a-single-chain"><a class="docs-heading-anchor" href="#Sampling-a-single-chain">Sampling a single chain</a><a id="Sampling-a-single-chain-1"></a><a class="docs-heading-anchor-permalink" href="#Sampling-a-single-chain" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsBase.sample-Tuple{AbstractRNG, AbstractMCMC.AbstractModel, AbstractMCMC.AbstractSampler, Any}" href="#StatsBase.sample-Tuple{AbstractRNG, AbstractMCMC.AbstractModel, AbstractMCMC.AbstractSampler, Any}"><code>StatsBase.sample</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample(
    rng::Random.AbatractRNG=Random.default_rng(),
    model::AbstractModel,
    sampler::AbstractSampler,
    N_or_isdone;
    kwargs...,
)</code></pre><p>Sample from the <code>model</code> with the Markov chain Monte Carlo <code>sampler</code> and return the samples.</p><p>If <code>N_or_isdone</code> is an <code>Integer</code>, exactly <code>N_or_isdone</code> samples are returned.</p><p>Otherwise, sampling is performed until a convergence criterion <code>N_or_isdone</code> returns <code>true</code>. The convergence criterion has to be a function with the signature</p><pre><code class="language-julia hljs">isdone(rng, model, sampler, samples, state, iteration; kwargs...)</code></pre><p>where <code>state</code> and <code>iteration</code> are the current state and iteration of the sampler, respectively. It should return <code>true</code> when sampling should end, and <code>false</code> otherwise.</p><p><strong>Keyword arguments</strong></p><p>See https://turinglang.org/AbstractMCMC.jl/dev/api/#Common-keyword-arguments for common keyword arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/sample.jl#L28-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsBase.sample-Tuple{AbstractRNG, Any, AbstractMCMC.AbstractSampler, Any}" href="#StatsBase.sample-Tuple{AbstractRNG, Any, AbstractMCMC.AbstractSampler, Any}"><code>StatsBase.sample</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample(
    rng::Random.AbstractRNG=Random.default_rng(),
    logdensity,
    sampler::AbstractSampler,
    N_or_isdone;
    kwargs...,
)</code></pre><p>Wrap the <code>logdensity</code> function in a <a href="#AbstractMCMC.LogDensityModel"><code>LogDensityModel</code></a>, and call <code>sample</code> with the resulting model instead of <code>logdensity</code>.</p><p>The <code>logdensity</code> function has to support the <a href="https://github.com/tpapp/LogDensityProblems.jl">LogDensityProblems.jl</a> interface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/logdensityproblems.jl#L30-L42">source</a></section></article><h3 id="Iterator"><a class="docs-heading-anchor" href="#Iterator">Iterator</a><a id="Iterator-1"></a><a class="docs-heading-anchor-permalink" href="#Iterator" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.steps-Tuple{AbstractRNG, AbstractMCMC.AbstractModel, AbstractMCMC.AbstractSampler}" href="#AbstractMCMC.steps-Tuple{AbstractRNG, AbstractMCMC.AbstractModel, AbstractMCMC.AbstractSampler}"><code>AbstractMCMC.steps</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">steps(
    rng::Random.AbstractRNG=Random.default_rng(),
    model::AbstractModel,
    sampler::AbstractSampler;
    kwargs...,
)</code></pre><p>Create an iterator that returns samples from the <code>model</code> with the Markov chain Monte Carlo <code>sampler</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; struct MyModel &lt;: AbstractMCMC.AbstractModel end

julia&gt; struct MySampler &lt;: AbstractMCMC.AbstractSampler end

julia&gt; function AbstractMCMC.step(rng, ::MyModel, ::MySampler, state=nothing; kwargs...)
           # all samples are zero
           return 0.0, state
       end

julia&gt; iterator = steps(MyModel(), MySampler());

julia&gt; collect(Iterators.take(iterator, 10)) == zeros(10)
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/stepper.jl#L48-L76">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.steps-Tuple{AbstractRNG, Any, AbstractMCMC.AbstractSampler}" href="#AbstractMCMC.steps-Tuple{AbstractRNG, Any, AbstractMCMC.AbstractSampler}"><code>AbstractMCMC.steps</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">steps(
    rng::Random.AbstractRNG=Random.default_rng(),
    logdensity,
    sampler::AbstractSampler;
    kwargs...,
)</code></pre><p>Wrap the <code>logdensity</code> function in a <a href="#AbstractMCMC.LogDensityModel"><code>LogDensityModel</code></a>, and call <code>steps</code> with the resulting model instead of <code>logdensity</code>.</p><p>The <code>logdensity</code> function has to support the <a href="https://github.com/tpapp/LogDensityProblems.jl">LogDensityProblems.jl</a> interface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/logdensityproblems.jl#L78-L89">source</a></section></article><h3 id="Transducer"><a class="docs-heading-anchor" href="#Transducer">Transducer</a><a id="Transducer-1"></a><a class="docs-heading-anchor-permalink" href="#Transducer" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.Sample-Tuple{AbstractRNG, AbstractMCMC.AbstractModel, AbstractMCMC.AbstractSampler}" href="#AbstractMCMC.Sample-Tuple{AbstractRNG, AbstractMCMC.AbstractModel, AbstractMCMC.AbstractSampler}"><code>AbstractMCMC.Sample</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Sample(
    rng::Random.AbstractRNG=Random.default_rng(),
    model::AbstractModel,
    sampler::AbstractSampler;
    kwargs...,
)</code></pre><p>Create a transducer that returns samples from the <code>model</code> with the Markov chain Monte Carlo <code>sampler</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; struct MyModel &lt;: AbstractMCMC.AbstractModel end

julia&gt; struct MySampler &lt;: AbstractMCMC.AbstractSampler end

julia&gt; function AbstractMCMC.step(rng, ::MyModel, ::MySampler, state=nothing; kwargs...)
           # all samples are zero
           return 0.0, state
       end

julia&gt; transducer = Sample(MyModel(), MySampler());

julia&gt; collect(transducer(1:10)) == zeros(10)
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/transducer.jl#L13-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.Sample-Tuple{AbstractRNG, Any, AbstractMCMC.AbstractSampler}" href="#AbstractMCMC.Sample-Tuple{AbstractRNG, Any, AbstractMCMC.AbstractSampler}"><code>AbstractMCMC.Sample</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Sample(
    rng::Random.AbstractRNG=Random.default_rng(),
    logdensity,
    sampler::AbstractSampler;
    kwargs...,
)</code></pre><p>Wrap the <code>logdensity</code> function in a <a href="#AbstractMCMC.LogDensityModel"><code>LogDensityModel</code></a>, and call <code>Sample</code> with the resulting model instead of <code>logdensity</code>.</p><p>The <code>logdensity</code> function has to support the <a href="https://github.com/tpapp/LogDensityProblems.jl">LogDensityProblems.jl</a> interface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/logdensityproblems.jl#L94-L105">source</a></section></article><h2 id="Sampling-multiple-chains-in-parallel"><a class="docs-heading-anchor" href="#Sampling-multiple-chains-in-parallel">Sampling multiple chains in parallel</a><a id="Sampling-multiple-chains-in-parallel-1"></a><a class="docs-heading-anchor-permalink" href="#Sampling-multiple-chains-in-parallel" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsBase.sample-Tuple{AbstractRNG, AbstractMCMC.AbstractModel, AbstractMCMC.AbstractSampler, AbstractMCMC.AbstractMCMCEnsemble, Integer, Integer}" href="#StatsBase.sample-Tuple{AbstractRNG, AbstractMCMC.AbstractModel, AbstractMCMC.AbstractSampler, AbstractMCMC.AbstractMCMCEnsemble, Integer, Integer}"><code>StatsBase.sample</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample(
    rng::Random.AbstractRNG=Random.default_rng(),
    model::AbstractModel,
    sampler::AbstractSampler,
    parallel::AbstractMCMCEnsemble,
    N::Integer,
    nchains::Integer;
    kwargs...,
)</code></pre><p>Sample <code>nchains</code> Monte Carlo Markov chains from the <code>model</code> with the <code>sampler</code> in parallel using the <code>parallel</code> algorithm, and combine them into a single chain.</p><p><strong>Keyword arguments</strong></p><p>See https://turinglang.org/AbstractMCMC.jl/dev/api/#Common-keyword-arguments for common keyword arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/sample.jl#L77-L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsBase.sample-Tuple{AbstractRNG, Any, AbstractMCMC.AbstractSampler, AbstractMCMC.AbstractMCMCEnsemble, Integer, Integer}" href="#StatsBase.sample-Tuple{AbstractRNG, Any, AbstractMCMC.AbstractSampler, AbstractMCMC.AbstractMCMCEnsemble, Integer, Integer}"><code>StatsBase.sample</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample(
    rng::Random.AbstractRNG=Random.default_rng(),
    logdensity,
    sampler::AbstractSampler,
    parallel::AbstractMCMCEnsemble,
    N::Integer,
    nchains::Integer;
    kwargs...,
)</code></pre><p>Wrap the <code>logdensity</code> function in a <a href="#AbstractMCMC.LogDensityModel"><code>LogDensityModel</code></a>, and call <code>sample</code> with the resulting model instead of <code>logdensity</code>.</p><p>The <code>logdensity</code> function has to support the <a href="https://github.com/tpapp/LogDensityProblems.jl">LogDensityProblems.jl</a> interface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/logdensityproblems.jl#L49-L63">source</a></section></article><p>Two algorithms are provided for parallel sampling with multiple threads and multiple processes, and one allows for the user to sample multiple chains in serial (no parallelization):</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.MCMCThreads" href="#AbstractMCMC.MCMCThreads"><code>AbstractMCMC.MCMCThreads</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MCMCThreads</code></pre><p>The <code>MCMCThreads</code> algorithm allows users to sample MCMC chains in parallel using multiple threads.</p><p><strong>Usage</strong></p><pre><code class="language-julia hljs">sample(model, sampler, MCMCThreads(), N, nchains)</code></pre><p>See also <a href="#StatsBase.sample-Tuple{AbstractRNG, AbstractMCMC.AbstractModel, AbstractMCMC.AbstractSampler, Any}"><code>sample</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/AbstractMCMC.jl#L61-L74">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.MCMCDistributed" href="#AbstractMCMC.MCMCDistributed"><code>AbstractMCMC.MCMCDistributed</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MCMCDistributed</code></pre><p>The <code>MCMCDistributed</code> algorithm allows users to sample MCMC chains in parallel using multiple processes.</p><p><strong>Usage</strong></p><pre><code class="language-julia hljs">sample(model, sampler, MCMCDistributed(), N, nchains)</code></pre><p>See also <a href="#StatsBase.sample-Tuple{AbstractRNG, AbstractMCMC.AbstractModel, AbstractMCMC.AbstractSampler, Any}"><code>sample</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/AbstractMCMC.jl#L77-L90">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.MCMCSerial" href="#AbstractMCMC.MCMCSerial"><code>AbstractMCMC.MCMCSerial</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MCMCSerial</code></pre><p>The <code>MCMCSerial</code> algorithm allows users to sample serially, with no thread or process parallelism.</p><p><strong>Usage</strong></p><pre><code class="language-julia hljs">sample(model, sampler, MCMCSerial(), N, nchains)</code></pre><p>See also <a href="#StatsBase.sample-Tuple{AbstractRNG, AbstractMCMC.AbstractModel, AbstractMCMC.AbstractSampler, Any}"><code>sample</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/AbstractMCMC.jl#L93-L105">source</a></section></article><h2 id="Common-keyword-arguments"><a class="docs-heading-anchor" href="#Common-keyword-arguments">Common keyword arguments</a><a id="Common-keyword-arguments-1"></a><a class="docs-heading-anchor-permalink" href="#Common-keyword-arguments" title="Permalink"></a></h2><div class="admonition is-success" id="Turing.jl-5bd924c89882ef6e"><header class="admonition-header">Turing.jl<a class="admonition-anchor" href="#Turing.jl-5bd924c89882ef6e" title="Permalink"></a></header><div class="admonition-body"><p>The description of keyword arguments here is fairly generic, since it only pertains to the AbstractMCMC interface. If you are specifically interested in sampling with Turing.jl, there is <a href="https://turinglang.org/docs/usage/sampling-options/">a dedicated documentation page for that</a>.</p></div></div><p>Common keyword arguments for regular and parallel sampling are:</p><ul><li><code>progress</code> (default: <code>AbstractMCMC.PROGRESS[]</code> which is <code>true</code> initially): toggles progress logging. See the section on <a href="#progress-logging">Progress logging</a> below for more details.</li><li><code>chain_type</code> (default: <code>Any</code>): determines the type of the returned chain</li><li><code>callback</code> (default: <code>nothing</code>): if <code>callback !== nothing</code>, then <code>callback(rng, model, sampler, sample, iteration; kwargs...)</code> is called after every sampling step, where <code>sample</code> is the most recent sample of the Markov chain and <code>iteration</code> is the current iteration<ul><li>Keyword arguments <code>kwargs...</code> are passed down from the call to <code>sample(...)</code>. If you are performing multiple-chain sampling, then <code>kwargs</code> <em>additionally</em> contains a <code>chain_number</code> keyword argument, which runs from 1 to the number of chains. This is not present when performing single-chain sampling.</li></ul></li><li><code>num_warmup</code> (default: <code>0</code>): number of &quot;warm-up&quot; steps to take before the first &quot;regular&quot; step,   i.e. number of times to call <a href="../design/#AbstractMCMC.step_warmup"><code>AbstractMCMC.step_warmup</code></a> before the first call to   <a href="../design/#AbstractMCMC.step"><code>AbstractMCMC.step</code></a>.</li><li><code>discard_initial</code> (default: <code>num_warmup</code>): number of initial samples that are discarded. Note that if <code>discard_initial &lt; num_warmup</code>, warm-up samples will also be included in the resulting samples.</li><li><code>thinning</code> (default: <code>1</code>): factor by which to thin samples.</li><li><code>initial_state</code> (default: <code>nothing</code>): if <code>initial_state !== nothing</code>, the first call to <a href="../design/#AbstractMCMC.step"><code>AbstractMCMC.step</code></a> is passed <code>initial_state</code> as the <code>state</code> argument.</li></ul><div class="admonition is-info" id="Info-de10a769c59c3dc5"><header class="admonition-header">Info<a class="admonition-anchor" href="#Info-de10a769c59c3dc5" title="Permalink"></a></header><div class="admonition-body"><p>The common keyword arguments <code>progress</code>, <code>chain_type</code>, and <code>callback</code> are not supported by the iterator <a href="#AbstractMCMC.steps-Tuple{AbstractRNG, AbstractMCMC.AbstractModel, AbstractMCMC.AbstractSampler}"><code>AbstractMCMC.steps</code></a> and the transducer <a href="#AbstractMCMC.Sample-Tuple{AbstractRNG, AbstractMCMC.AbstractModel, AbstractMCMC.AbstractSampler}"><code>AbstractMCMC.Sample</code></a>.</p></div></div><p>There is no &quot;official&quot; way for providing initial parameter values yet. However, multiple packages such as <a href="https://github.com/TuringLang/EllipticalSliceSampling.jl">EllipticalSliceSampling.jl</a> and <a href="https://github.com/TuringLang/AdvancedMH.jl">AdvancedMH.jl</a> support an <code>initial_params</code> keyword argument for setting the initial values when sampling a single chain. To ensure that sampling multiple chains &quot;just works&quot; when sampling of a single chain is implemented, <a href="https://github.com/TuringLang/AbstractMCMC.jl/pull/94">we decided to support <code>initial_params</code> in the default implementations of the ensemble methods</a>:</p><ul><li><code>initial_params</code> (default: <code>nothing</code>): if <code>initial_params isa AbstractArray</code>, then the <code>i</code>th element of <code>initial_params</code> is used as initial parameters of the <code>i</code>th chain. If one wants to use the same initial parameters <code>x</code> for every chain, one can specify e.g. <code>initial_params = FillArrays.Fill(x, N)</code>.</li></ul><h2 id="Progress-logging"><a class="docs-heading-anchor" href="#Progress-logging">Progress logging</a><a id="Progress-logging-1"></a><a class="docs-heading-anchor-permalink" href="#Progress-logging" title="Permalink"></a></h2><p>Progress logging is controlled in one of two ways:</p><ul><li>by passing the <code>progress</code> keyword argument to the <code>sample(...)</code> function, or</li><li>by globally changing the defaults with <code>AbstractMCMC.setprogress!</code> and <code>AbstractMCMC.setmaxchainsprogress!</code>.</li></ul><h3 id="progress-keyword-argument"><a class="docs-heading-anchor" href="#progress-keyword-argument"><code>progress</code> keyword argument</a><a id="progress-keyword-argument-1"></a><a class="docs-heading-anchor-permalink" href="#progress-keyword-argument" title="Permalink"></a></h3><p>For single-chain sampling (i.e., <code>sample([rng,] model, sampler, N)</code>), as well as multiple-chain sampling with <code>MCMCSerial</code>, the <code>progress</code> keyword argument should be a <code>Bool</code>.</p><p>For multiple-chain sampling using <code>MCMCThreads</code>, there are several, more detailed, options:</p><ul><li><code>:overall</code>: create one progress bar for the overall sampling process, which tracks the percentage of samples that have been sampled across all chains</li><li><code>:perchain</code>: in addition to <code>:overall</code>, also create one progress bar for each individual chain</li><li><code>:none</code>: do not create any progress bar</li><li><code>true</code> (the default): same as <code>:overall</code>, i.e. one progress bar for the overall sampling process</li><li><code>false</code>: same as <code>:none</code>, i.e. no progress bar</li></ul><p>Multiple-chain sampling using <code>MCMCDistributed</code> behaves the same as <code>MCMCThreads</code>, except that <code>:perchain</code> is not (yet?) implemented.</p><div class="admonition is-warning" id="Do-not-override-the-progress-keyword-argument-7c849c37493da91f"><header class="admonition-header">Do not override the `progress` keyword argument<a class="admonition-anchor" href="#Do-not-override-the-progress-keyword-argument-7c849c37493da91f" title="Permalink"></a></header><div class="admonition-body"><p>If you are implementing your own methods for <code>sample(...)</code>, you should make sure to not override the <code>progress</code> keyword argument if you want progress logging in multi-chain sampling to work correctly, as the multi-chain <code>sample()</code> call makes sure to specifically pass custom values of <code>progress</code> to the single-chain calls.</p></div></div><h3 id="Global-settings"><a class="docs-heading-anchor" href="#Global-settings">Global settings</a><a id="Global-settings-1"></a><a class="docs-heading-anchor-permalink" href="#Global-settings" title="Permalink"></a></h3><p>If you are sampling multiple times and would like to change the default behaviour, you can use this function to control progress logging globally:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.setprogress!" href="#AbstractMCMC.setprogress!"><code>AbstractMCMC.setprogress!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">setprogress!(progress::Bool; silent::Bool=false)</code></pre><p>Enable progress logging globally if <code>progress</code> is <code>true</code>, and disable it otherwise.  Optionally disable informational message if <code>silent</code> is <code>true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/sample.jl#L6-L11">source</a></section></article><p><code>setprogress!</code> is more general, and applies to all types of sampling (both single- and multiple-chain). It only takes a boolean argument, which switches progress logging on or off. For example, <code>setprogress!(false)</code> will disable all progress logging.</p><p>Note that <code>setprogress!</code> cannot be used to set the type of progress bar for multiple-chain sampling. If you want to use <code>:perchain</code>, it has to be set on each individual call to <code>sample</code>.</p><h2 id="Chains"><a class="docs-heading-anchor" href="#Chains">Chains</a><a id="Chains-1"></a><a class="docs-heading-anchor-permalink" href="#Chains" title="Permalink"></a></h2><p>The <code>chain_type</code> keyword argument allows to set the type of the returned chain. A common choice is to return chains of type <code>Chains</code> from <a href="https://github.com/TuringLang/MCMCChains.jl">MCMCChains.jl</a>.</p><p>AbstractMCMC defines the abstract type <code>AbstractChains</code> for Markov chains.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.AbstractChains" href="#AbstractMCMC.AbstractChains"><code>AbstractMCMC.AbstractChains</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractChains</code></pre><p><code>AbstractChains</code> is an abstract type for an object that stores parameter samples generated through a MCMC process.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/AbstractMCMC.jl#L25-L30">source</a></section></article><p>For chains of this type, AbstractMCMC defines the following two methods.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.chainscat" href="#AbstractMCMC.chainscat"><code>AbstractMCMC.chainscat</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">chainscat(c::AbstractChains...)</code></pre><p>Concatenate multiple chains.</p><p>By default, the chains are concatenated along the third dimension by calling <code>cat(c...; dims=3)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/interface.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.chainsstack" href="#AbstractMCMC.chainsstack"><code>AbstractMCMC.chainsstack</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">chainsstack(c::AbstractVector)</code></pre><p>Stack chains in <code>c</code>.</p><p>By default, the vector of chains is returned unmodified. If <code>eltype(c) &lt;: AbstractChains</code>, then <code>reduce(chainscat, c)</code> is called.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/interface.jl#L11-L18">source</a></section></article><h2 id="Interacting-with-states-of-samplers"><a class="docs-heading-anchor" href="#Interacting-with-states-of-samplers">Interacting with states of samplers</a><a id="Interacting-with-states-of-samplers-1"></a><a class="docs-heading-anchor-permalink" href="#Interacting-with-states-of-samplers" title="Permalink"></a></h2><p>To make it a bit easier to interact with some arbitrary sampler state, we encourage implementations of <code>AbstractSampler</code> to implement the following methods:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.getparams" href="#AbstractMCMC.getparams"><code>AbstractMCMC.getparams</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getparams([model::AbstractModel, ]state)::Vector{&lt;:Real}</code></pre><p>Retrieve the values of parameters from the sampler&#39;s <code>state</code> as a <code>Vector{&lt;:Real}</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/AbstractMCMC.jl#L115-L119">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AbstractMCMC.setparams!!" href="#AbstractMCMC.setparams!!"><code>AbstractMCMC.setparams!!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">setparams!!([model::AbstractModel, ]state, params)</code></pre><p>Set the values of parameters in the sampler&#39;s <code>state</code> from a <code>Vector{&lt;:Real}</code>. </p><p>This function should follow the <code>BangBang</code> interface: mutate <code>state</code> in-place if possible and  return the mutated <code>state</code>. Otherwise, it should return a new <code>state</code> containing the updated parameters.</p><p>Although not enforced, it should hold that <code>setparams!!(state, getparams(state)) == state</code>. In other words, the sampler should implement a consistent transformation between its internal representation and the vector representation of the parameter values.</p><p>Sometimes, to maintain the consistency of the log density and parameter values, a <code>model</code> should be provided. This is useful for samplers that need to evaluate the log density at the new parameter values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AbstractMCMC.jl/blob/e58f735f86205af622a180e50677a44ca2a047fe/src/AbstractMCMC.jl#L133-L147">source</a></section></article><p><code>getparams</code> and <code>setparams!!</code> provide a generic interface for interacting with the parameters of a sampler&#39;s state, regardless of how that state is represented internally.</p><p>This allows generic code to be written that works with any sampler implementing this interface. For example, a generic ensemble sampler could use <code>getparams</code> to extract the parameters from each of its component samplers&#39; states, and <code>setparams!!</code> to initialize each component sampler with a different set of parameters.</p><p>The optional <code>model</code> argument to these functions allows sampler implementations to customize their behavior based on the model being used. For example, some samplers may need to evaluate the log density at new parameter values when setting parameters, which requires access to the model. If access to <code>model</code> is not needed, the sampler only needs to implement the version without the <code>model</code> argument - the default implementations will then call those methods directly.</p><p>These methods are particularly useful for implementing samplers which wrap some inner samplers, such as a mixture of samplers. In the next section, we will see how <code>getparams</code> and <code>setparams!!</code> can be used to implement a <code>MixtureSampler</code>.</p><h3 id="Example:-MixtureSampler"><a class="docs-heading-anchor" href="#Example:-MixtureSampler">Example: <code>MixtureSampler</code></a><a id="Example:-MixtureSampler-1"></a><a class="docs-heading-anchor-permalink" href="#Example:-MixtureSampler" title="Permalink"></a></h3><p>In a <code>MixtureSampler</code> we need two things:</p><ul><li><code>components</code>: collection of samplers.</li><li><code>weights</code>: collection of weights representing the probability of choosing the corresponding sampler.</li></ul><pre><code class="language-julia hljs">struct MixtureSampler{W,C} &lt;: AbstractMCMC.AbstractSampler
    components::C
    weights::W
end</code></pre><p>To implement the state, we need to keep track of a couple of things:</p><ul><li><code>index</code>: the index of the sampler used in this <code>step</code>.</li><li><code>states</code>: the current states of <em>all</em> the components.</li></ul><p>We need to keep track of the states of <em>all</em> components rather than just the state for the sampler we used previously. The reason is that lots of samplers keep track of more than just the previous realizations of the variables, e.g. in <code>AdvancedHMC.jl</code> we keep track of the momentum used, the metric used, etc.</p><pre><code class="language-julia hljs">struct MixtureState{S}
    index::Int
    states::S
end</code></pre><p>The <code>step</code> for a <code>MixtureSampler</code> is defined by the following generative process</p><p class="math-container">\[\begin{aligned}
i &amp;\sim \mathrm{Categorical}(w_1, \dots, w_k) \\
X_t &amp;\sim \mathcal{K}_i(\cdot \mid X_{t - 1})
\end{aligned}\]</p><p>where <span>$\mathcal{K}_i$</span> denotes the i-th kernel/sampler, and <span>$w_i$</span> denotes the weight/probability of choosing the i-th sampler. <a href="#AbstractMCMC.getparams"><code>AbstractMCMC.getparams</code></a> and <a href="#AbstractMCMC.setparams!!"><code>AbstractMCMC.setparams!!</code></a> comes into play in defining/computing <span>$\mathcal{K}_i(\cdot \mid X_{t - 1})$</span> since <span>$X_{t - 1}$</span> could be coming from a different sampler.</p><p>If we let <code>state</code> be the current <code>MixtureState</code>, <code>i</code> the current component, and <code>i_prev</code> is the previous component we sampled from, then this translates into the following piece of code:</p><pre><code class="language-julia hljs"># Update the corresponding state, i.e. `state.states[i]`, using
# the state and transition from the previous iteration.
state_current = AbstractMCMC.setparams!!(
    state.states[i], 
    AbstractMCMC.getparams(state.states[i_prev]),
)

# Take a `step` for this sampler using the updated state.
transition, state_current = AbstractMCMC.step(
    rng, model, sampler_current, sampler_state;
    kwargs...
)</code></pre><p>The full <a href="../design/#AbstractMCMC.step"><code>AbstractMCMC.step</code></a> implementation would then be something like:</p><pre><code class="language-julia hljs">function AbstractMCMC.step(rng, model::AbstractMCMC.AbstractModel, sampler::MixtureSampler, state; kwargs...)
    # Sample the component to use in this `step`.
    i = rand(Categorical(sampler.weights))
    sampler_current = sampler.components[i]

    # Update the corresponding state, i.e. `state.states[i]`, using
    # the state and transition from the previous iteration.
    i_prev = state.index
    state_current = AbstractMCMC.setparams!!(  
        state.states[i], 
        AbstractMCMC.getparams(state.states[i_prev]),  
    )

    # Take a `step` for this sampler using the updated state.
    transition, state_current = AbstractMCMC.step(
        rng, model, sampler_current, state_current;
        kwargs...
    )

    # Create the new states.
    # NOTE: Code below will result in `states_new` being a `Vector`.
    # If we wanted to allow usage of alternative containers, e.g. `Tuple`,
    # it would be better to use something like `@set states[i] = state_current`
    # where `@set` is from Setfield.jl.
    states_new = map(1:length(state.states)) do j
        if j == i
            # Replace the i-th state with the new one.
            state_current
        else
            # Otherwise we just carry over the previous ones.
            state.states[j]
        end
    end

    # Create the new `MixtureState`.
    state_new = MixtureState(i, states_new)

    return transition, state_new
end</code></pre><p>And for the initial <a href="../design/#AbstractMCMC.step"><code>AbstractMCMC.step</code></a> we have:</p><pre><code class="language-julia hljs">function AbstractMCMC.step(rng, model::AbstractMCMC.AbstractModel, sampler::MixtureSampler; kwargs...)
    # Initialize every state.
    transitions_and_states = map(sampler.components) do spl
        AbstractMCMC.step(rng, model, spl; kwargs...)
    end

    # Sample the component to use this `step`.
    i = rand(Categorical(sampler.weights))
    # Extract the corresponding transition.
    transition = first(transitions_and_states[i])
    # Extract states.
    states = map(last, transitions_and_states)
    # Create new `MixtureState`.
    state = MixtureState(i, states)

    return transition, state
end</code></pre><p>Suppose we then wanted to use this with some of the packages which implements AbstractMCMC.jl&#39;s interface, e.g. <a href="https://github.com/TuringLang/AdvancedMH.jl"><code>AdvancedMH.jl</code></a>, then we&#39;d simply have to implement <code>getparams</code> and <code>setparams!!</code>.</p><p>To use <code>MixtureSampler</code> with two samplers <code>sampler1</code> and <code>sampler2</code> from <code>AdvancedMH.jl</code> as components, we&#39;d simply do</p><pre><code class="language-julia hljs">sampler = MixtureSampler([sampler1, sampler2], [0.1, 0.9])
transition, state = AbstractMCMC.step(rng, model, sampler)
while ...
    transition, state = AbstractMCMC.step(rng, model, sampler, state)
end</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../design/">Design »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Monday 27 October 2025 15:18">Monday 27 October 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
